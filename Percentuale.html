<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <title>Calcolo Quota Asta</title>
  <style>
    body {
      font-family: Poppins, sans-serif;
      padding: 40px;
      background: linear-gradient(to right, #f0f0f0, #ffffff);
    }
    input, button {
      padding: 10px;
      margin-top: 10px;
      font-size: 16px;
    }
    .result {
      margin-top: 20px;
      font-weight: bold;
    }
  </style>
</head>
<body>

  <h2>Calcolo quota azienda/persona da asta</h2>

  <label for="importo">Importo finale asta (€):</label><br>
  <input type="number" id="importo" step="0.01" min="0"><br>
  <button onclick="calcola()">Calcola</button>

  <div class="result" id="risultato"></div>

  <script>
    function arrotondaAllaDecina(num) {
      const resto = num % 10;
      if (resto <= 5) {
        return num - resto;
      } else {
        return num + (10 - resto);
      }
    }

    function calcola() {
      const importo = parseFloat(document.getElementById("importo").value);
      if (isNaN(importo) || importo <= 0) {
        document.getElementById("risultato").textContent = "Inserisci un importo valido.";
        return;
      }

      // Calcolo del 5%
      let quotaAzienda = importo * 0.05;

      // Arrotondamento alla decina
      quotaAzienda = arrotondaAllaDecina(Math.round(quotaAzienda));

      // Calcolo quota persona
      let quotaPersona = importo - quotaAzienda;
      quotaPersona = arrotondaAllaDecina(Math.round(quotaPersona));

      const somma = quotaAzienda + quotaPersona;

      document.getElementById("risultato").innerHTML = `
        Importo asta: €${importo.toFixed(2)}<br>
        Quota azienda (5% arrotondato): €${quotaAzienda.toFixed(2)}<br>
        Quota persona (arrotondata): €${quotaPersona.toFixed(2)}<br>
        Somma totale (check): €${somma.toFixed(2)}
      `;
    }
  </script>

</body>
</html>
